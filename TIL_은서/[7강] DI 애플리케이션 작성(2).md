# jUnit

#### jUnitì˜ íŠ¹ì§•

* TDDì°½ì‹œìê°€ ì‘ì„±í•¨

  > TDD(Test Driven Development: í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ) ë°©ë²•ë¡ 

* assert ë©”ì„œë“œë¡œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ìˆ˜í–‰ ê²°ê³¼ íŒë³„

  > assertEquals(ì˜ˆìƒ ê°’, ì‹¤ì œ ê°’)



#### jUnit ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

mvnrepository.comì—ì„œ junit ê²€ìƒ‰í•˜ì—¬ pom.xmlì— ì¶”ê°€



#### jUnitì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜

* @Test
  * í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œ
  * ê°ê°ì˜ í…ŒìŠ¤íŠ¸ë“¤ì€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤ (= @Testë§ˆë‹¤ ê°ì²´ ìƒì„±ëœë‹¤)
* @Ignore
  * í…ŒìŠ¤íŠ¸ ì‹¤í–‰X
* @Before
  * @Test ë©”ì†Œë“œê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ë°˜ë“œì‹œ ì‹¤í–‰ë˜ì–´ì§„ë‹¤
  * ì£¼ë¡œ @Test ë©”ì†Œë“œì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¥¼ ì„ ì–¸í•˜ì—¬ ì‚¬ìš©
* @After
  * @Test ë©”ì†Œë“œê°€ ì‹¤í–‰ëœ í›„ ì‹¤í–‰ë¨
* @BeforeClass
  * @Test ë©”ì†Œë“œë³´ë‹¤ ë¨¼ì € **í•œ ë²ˆë§Œ** ìˆ˜í–‰ë˜ì–´ì•¼ í•  ê²½ìš°
* @AfterClass
  * @Test ë©”ì†Œë“œ ì´í›„  **í•œ ë²ˆë§Œ** ìˆ˜í–‰ë˜ì–´ì•¼ í•  ê²½ìš°



##### HelloBeanJunitTest.java (HelloBeanTest.java ë³µì‚¬í•˜ì—¬ ìˆ˜ì •)

```java
package myspring.di.xml.test;

import static org.junit.Assert.assertEquals;

import org.junit.Before;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.GenericXmlApplicationContext;

import myspring.di.xml.Hello;
import myspring.di.xml.Printer;

public class HelloBeanJunitTest {
	ApplicationContext context;
	
    // ğŸš¨ @Testê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ
	@Before
	public void init() {
		// IoC ì»¨í…Œì´ë„ˆ ìƒì„±
		 context = new GenericXmlApplicationContext("config/beans.xml");
	}
	
    // ğŸš¨ í…ŒìŠ¤íŠ¸ ë³¸ì²´
	@Test
	public void test1() {	
		// Hello Bean ê°€ì ¸ì˜¤ê¸°
		Hello hello = (Hello)context.getBean("hello");
		assertEquals("Hello!Spring", hello.sayHello());
		
		hello.print();
		
		// StringPrinter Bean ê°€ì ¸ì˜¤ê¸°
		Printer printer = context.getBean("printer", Printer.class);
		assertEquals("Hello!Spring", printer.toString());

	}

}
```



##### ê°™ì€ íŒŒì¼ì— test2 ì¶”ê°€

```java
package myspring.di.xml.test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertSame;

import org.junit.Before;
import org.junit.Ignore;
import org.junit.Test;
import org.springframework.context.ApplicationContext;
import org.springframework.context.support.GenericXmlApplicationContext;

import myspring.di.xml.Hello;
import myspring.di.xml.Printer;

public class HelloBeanJunitTest {
	ApplicationContext context;
	
	@Before
	public void init() {
		// IoC ì»¨í…Œì´ë„ˆ ìƒì„±
		 context = new GenericXmlApplicationContext("config/beans.xml");
	}

	@Test @Ignore		// ğŸš¨ ì‹¤í–‰ì‹œí‚¤ê³ ì‹¶ì§€ ì•Šì€ Test ë©”ì„œë“œì—ëŠ” @Ignore ë¶™ì´ê¸°
	public void test1() {	
		// Hello Bean ê°€ì ¸ì˜¤ê¸°
		Hello hello = (Hello)context.getBean("hello");
		assertEquals("Hello!Spring", hello.sayHello());
		
		hello.print();
		
		// StringPrinter Bean ê°€ì ¸ì˜¤ê¸°
		Printer printer = context.getBean("printer", Printer.class);
		assertEquals("Hello!Spring", printer.toString());

	}
	
	@Test
	public void test2() {
		// Hello Bean ê°€ì ¸ì™€ ë‘ ê°œì˜ ê°ì²´ ìƒì„±í•˜ê¸°
		Hello hello = (Hello)context.getBean("hello");
		Hello hello2 = (Hello)context.getBean("hello");
		
		// ë‘ ê°œì˜ Hello Beanì´ ê°™ì€ ê°ì²´ì¸ì§€(ì£¼ì†Œê°’ì´ ê°™ì€ì§€) ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë¹„êµí•  ìˆ˜ ìˆëŠ” assertSame()
		assertSame(hello, hello2);

	}

}
```



# Spring-Test

#### Spring-Test ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

jUnitê³¼ ë§ˆì°¬ê°€ì§€ë¡œ pom.xmlì— ì˜ì¡´ì„± ì¶”ê°€



#### Spring-Testì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜

* @RunWith(SpringJUnit4ClassRunner.class)
  * jUnit í”„ë ˆì„ì›Œí¬ì˜ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë°©ë²•ì„ í™•ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
* @ContextConfiguration
  * ìŠ¤í”„ë§ ë¹ˆ ì„¤ì •íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì§€ì •í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
* @Autowired
  * ìŠ¤í”„ë§ DIì—ì„œ ì‚¬ìš©ë˜ëŠ” íŠ¹ë³„í•œ ì–´ë…¸í…Œì´ì…˜
  * í•´ë‹¹ ë³€ìˆ˜ì— ìë™ìœ¼ë¡œ ë¹ˆì„ ë§¤í•‘í•´ì¤Œ



#### HelloBeanJunitSpringTest.java (HelloBeanJunitTest.java ë³µì‚¬í•˜ì—¬ ìˆ˜ì •)

```java
package myspring.di.xml.test;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertSame;

import org.junit.Ignore;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.ApplicationContext;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import myspring.di.xml.Hello;
import myspring.di.xml.Printer;

//ğŸš¨ ApplicationContextë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” Spring Test
@RunWith(SpringJUnit4ClassRunner.class)	

// ğŸš¨ beans.xmlì˜ ê²½ë¡œ ì§€ì •
@ContextConfiguration(locations = "classpath:config/beans.xml")		
public class HelloBeanJunitSpringTest {
	
    // ğŸš¨ Spring Testì—ì„œ ìƒì„±í•´ì¤€ ApplicationContextë¥¼ ë§¤í•‘í•´ì£¼ê¸° ìœ„í•œ ì–´ë…¸í…Œì´ì…˜ 
	@Autowired
	ApplicationContext context;

	@Test @Ignore
	public void test1() {	
		// Hello Bean ê°€ì ¸ì˜¤ê¸°
		Hello hello = (Hello)context.getBean("hello");
		assertEquals("Hello!Spring", hello.sayHello());
		
		hello.print();
		
		// StringPrinter Bean ê°€ì ¸ì˜¤ê¸°
		Printer printer = context.getBean("printer", Printer.class);
		assertEquals("Hello!Spring", printer.toString());

	}
	
	@Test
	public void test2() {
		// Hello Bean ê°€ì ¸ì™€ ë‘ ê°œì˜ ê°ì²´ ìƒì„±í•˜ê¸°
		Hello hello = (Hello)context.getBean("hello");
		Hello hello2 = (Hello)context.getBean("hello");
		
		// ë‘ ê°œì˜ Hello Beanì´ ê°™ì€ ê°ì²´ì¸ì§€(ì£¼ì†Œê°’ì´ ê°™ì€ì§€) ë ˆí¼ëŸ°ìŠ¤ë¥¼ ë¹„êµí•  ìˆ˜ ìˆëŠ” assertSame()
		assertSame(hello, hello2);

	}

}
```

