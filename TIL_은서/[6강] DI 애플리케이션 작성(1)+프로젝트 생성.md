# Spring Project ì‹œì‘í•˜ê¸°

1. STS ì‹¤í–‰

   > ğŸš¨ STS4ì¸ ê²½ìš° help > eclipse Marketplace > Spring Tools 3 Add-On for Spring Tools4 ì„¤ì¹˜
   >
   > ì°¸ê³ : https://life-with-coding.tistory.com/369

2. Java Project ìƒì„± > ìƒì„±í•œ í”„ë¡œì íŠ¸ ìš°í´ë¦­ > Configureì˜ Convert to Maven Project > Spring > Add Spring Project Nature





# DI ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ì„±

> ğŸ” 3ê°œì˜ í´ë˜ìŠ¤
>
> 1. Hello
>
>    ë‘ ê°œì˜ setter ë©”ì„œë“œ
>
>    1. setName
>    2. setPrinter
>
> 2. Printer
>
> 3. ConsolePrinter

##### [í´ë˜ìŠ¤] Hello.java 

```java
package myspring.di.xml;

public class Hello {
	private String name;
	private Printer printer;	// ğŸš¨ ì¸í„°í˜ì´ìŠ¤
	
    /* setter ë©”ì„œë“œë“¤ì€ beans.xmlì—ì„œ <bean>ì˜ <property>ì™€ ë§¤í•‘ë˜ë©°, 
    value ê°’ì„ í†µí•´ ì¸ìë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤ */
	
    // ì²« ë²ˆì§¸ setter ë©”ì„œë“œ
	public void setName(String name) {
		this.name = name;
	}
	
	// ë‘ ë²ˆì§¸ setter ë©”ì„œë“œ
	public void setPrinter(Printer printer) {
		this.printer = printer;
	}
	
	public String sayHello() {
		return "Hello!" + name;
	}
	
	public void print() {
		this.printer.print(sayHello());
	}
}
```



##### [ì¸í„°í˜ì´ìŠ¤] Printer.java

```java
package myspring.di.xml;

public interface Printer {
	public void print(String message);
}
```



##### [í´ë˜ìŠ¤] StringPrinter.java

```java
package myspring.di.xml;

public class StringPrinter implements Printer{		// ğŸš¨ Printer ì¸í„°í˜ì´ìŠ¤ implement
	private StringBuffer buffer = new StringBuffer();
	
	@Override
	public void print(String message) {
		// string ë²„í¼ì— ì¸ìë¡œ ë°›ì€ ë©”ì‹œì§€ë¥¼ appendí•˜ê¸°
		buffer.append(message);
	}
	
	
	public String toString() {
		// ë²„í¼ì— ì €ì¥ë˜ì–´ìˆëŠ” ë¬¸ìì—´ì„ ë¦¬í„´í•´ì£¼ëŠ” ë©”ì„œë“œ	
		return buffer.toString();
	}
	
}
```



##### [í´ë˜ìŠ¤] ConsolePrinter.java

```java
package myspring.di.xml;

public class ConsolePrinter implements Printer {

	@Override
	public void print(String message) {
		System.out.println(message);
	}

}
```



##### beans.xml

```xml
	<bean id="hello" class="myspring.di.xml.Hello">
		<property name="name" value="Spring" />
		<property name="printer" ref="printer" />
	</bean>
	
	<bean id="printer" class="myspring.di.xml.StringPrinter" />
	<bean id="consolePrinter" class="myspring.di.xml.ConsolePrinter" />
```

* `<property name="name" value="Spring" />`

  : setName()ê³¼ ë§¤í•‘ì´ë˜ë©° íƒœê·¸ ì•ˆì˜ valueê°’ì´ ì¸ìë¡œ ì „ë‹¬ëœë‹¤

* `<property name="printer" ref="printer" />`

  : setPrinter()ì™€ ë§¤í•‘, refëŠ” ì•„ë˜ì˜ bean ì¤‘ idê°€ 'printer'ì¸ ê²ƒì„ ì°¸ì¡°í•œë‹¤ëŠ” ëœ»

* `<bean id="printer" class="myspring.di.xml.StringPrinter" />`

  : stringprinterì˜ ê°ì²´ê°€ ìƒì„±ì´ ë˜ì–´ setPrinterì— ì¸ìë¡œ ì „ë‹¬ëœë‹¤ëŠ” ëœ»



# DI í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‘ì„±

##### HelloBeanTest.java

```java
package myspring.di.xml.test;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.GenericXmlApplicationContext;

import myspring.di.xml.Hello;
import myspring.di.xml.Printer;

public class HelloBeanTest {

	public static void main(String[] args) {
		// 1. IoC ì»¨í…Œì´ë„ˆ ìƒì„±
		ApplicationContext context = new GenericXmlApplicationContext("config/beans.xml");
		
		// 2. Hello Bean ê°€ì ¸ì˜¤ê¸°
		Hello hello = (Hello)context.getBean("hello");
		System.out.println(hello.sayHello());
		hello.print();
		
		// 3. StringPrinter Bean ê°€ì ¸ì˜¤ê¸°
		Printer printer = context.getBean("printer", Printer.class);
		System.out.println(printer.toString());
		
		// Hello Bean ë‹¤ì‹œ ê°€ì ¸ì˜¤ê¸°, ì•ì—ì„œ ê°€ì ¸ì˜¨ ê°’ê³¼ ê°™ì€ì§€ ë¹„êµ
		Hello hello2 = context.getBean("hello", Hello.class);
		System.out.println(hello == hello2);
	}

}
```

