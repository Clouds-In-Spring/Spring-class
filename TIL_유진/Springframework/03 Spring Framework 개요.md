## 03 Spring Framework 개요

#### 1. Spring Framework란?

- 자바 개발 편하게해주는 **경량급 애플리케이션 프레임워크**
- 애플리케이션 -> 범용적, 경량급 -> 웹컨테이너에서도 고급기술 사용 가능
- 엔터프라이즈 개발 용이
  - 개발자는 low level 에 신경x

- 오픈소스 
  - 오픈소스의 단점과 한계 극복 - vmware 가 spring opensource 사들임(오픈소스 부분 지원)

- spring framework 전략

  - spring 삼각형 : 엔터프라이즈 개발의 복잡함을 4가지로 상대
  - POJO + IoC/DI +AOP + PSA
  - 스프링 주요 기술인  IoC/DI , AOP, PSA은 애플리케이션을 POJO로 개발할 수 있게 해주는 기능 기술
  - 
  - ![image](https://user-images.githubusercontent.com/38436013/106222354-b204c800-6222-11eb-828e-a57017db7f6f.png)
  - PSA(portable Service Abstraction)
    - 트랜잭션 추상화, OXM(object xml mapping) 추상화, ... 
    - 복잡한 기술은 low level 기술과 기술 사용하는 인터페이스로 분리
    - 개발자는 인터페이스 참고
    - 환경과 세부 기술의 변화에 관계없이 일관된 방식으로 기술 접근

  - 객체지향과 DI(dependency injection)
    - 의존관계주입 ??
    - DI는 유연하게 확장 가능한 객체를 만들어 두고, 그 관계는 외부에서 다이내믹하게 설정
    - ***두개의 오브젝트 분리해서 만들고, 인터페이스를 두고 느슨하게 연결한 뒤, 실제 사용할 대상은 DI를 통해 외부에서 지정***
    - 자신이 직접 사용할 오브젝트를 new 키워드로 생성해서 사용하는 강한 결헙을 쓰는 방법보다 나은 점은?
      - 유연한 확장이 가능
      - DI는 개방 폐쇄 원칙(OCP)이라는 객체지향 설계 원칙으로 잘 설명된다
        - ***유연한 확장이 가능 -> OCP의 ‘확장에는 열려있다’***
        - ***변경없이 재사용 가능 -> OCP의 ‘변경에는 닫혀있다'***
        - A -> B 라는 의존관계를 갖는 오브젝트 구조를 예로 들어보면(A의기능을 일부 B에게 위임 )
          - 여기서 확장은 B가 자유롭게 변경될 수 있음을 의미
          - B가 변경되어도 A는 아무런 영향을 받지 않고 그대로 유지 가능
          - ***B의 관점 : 유연한 확장 / A의 관점 : 변경없이 재사용 가능***

  - AOP(Aspect Oriented Programming)
    - 관점지향프로그래밍
    -  공통 관심사항을 구현한 코드를 핵심 로직을 구현한 코드 안에 삽입

  - pojo(Plain Old Java Object)

    - 자바 오브젝트

    - 단순 오브젝트를 이용해 비즈니스 로직 구현

    - 특정 규약에 종속X, 자바와 꼭 필요한 API 외에 종속X

    - **진정한 POJO란 객체지향에 충실하면서, 종속X, 재활용 가능하게 설계된 오브젝트**

    - ***스프링 프레임워크는 포조를 이용한 엔터프라이즈 애플리케이션 개발을 목적으로 하는 프레임워크***

      

#### 2. Spring Framework 특징

- 컨테이너 역할 : 자바 객체의 라이프사이클 관리, 스프링 컨테이너로부터 필요한 객체 가져와 사용 가능
- DI 지원 : XML , component 통해 객체간의 의존관계 설정
- AOP 지원 : 업무 로직에서 로깅, 보안 같은 공통 모듈을 분리해서 개발
- POJO 지원 : 특정 인터페이스 구현하거나 클래스 상속 받지 않아도 된다
- 트랜잭션 처리 위한 일관된 방법 지원 :  COMMIT, ROLLBACK 하겠다는 것을 프로그램 안에 코드를 작성하는 것이 일반적이지만, 스프링은 코드가 아니라 XML, ANNOTAION 같은 설정을 하여 지원
- 영속성 : Mybatis, Hibernate 같은 db 지원

### 3. Spring Framework 기능 요소

![image](https://user-images.githubusercontent.com/38436013/106223845-88996b80-6225-11eb-951c-04f1e75b808e.png)

- Spring Core 
  - 기본 기능(컨테이너), 
  - BeanFactory 는 스프링의 기본 컨테이너이면서 DI의 기반

- Spring AOP
  - Aspect 지향 프로그래밍
  - 업무 로직과 공통 로직을 분리

- Spring ORM
  - Mybatis, Hibernate 같은 ORM과 연동

- Spring DAO
  - JDBC 코딩이나 예외처리 하는 부분을 간편화 시킴
  - AOP 모듈을 이용해 트랜잭션 관리 서비스도 제공

- Spring Web
  - 브라우저 기반 개발 기능 제공
  - 다른 웹애플리케이션 프레임워크와 통합 기능 제공

- Spring Context
  - spring core 개념을 확장, 국제화 기능(여러 언어 지원), 라이플사이클, 유효성 검증 등을 지원

- Spring WebMVC

  - 인터페이스가 애플리케이션 로직과 분리되는 웹애플리케이션을 만드는 경우

  

#### 용어

- Spring MVC 

  - 일반적인 MVC 구조와 Spring MVC 구조는 다르다 ==> ***DispatcherServlet**

  - Spring MVC는 DispatcherServlet 등장으로 web.xml의 역할이 축소

    

- 트랜잭션

  - 하나의 논리적 작업 단위를 구성하는 일련의 연산들의 집합

  - All or Nothing

  - 원자성 : 트랜잭션의 모든 연산들이 수행O 또는 수행 X

  - 일관성 : DB

  - 독립성 : 동시에 여러 트랜잭션 수행되더라도, 각각은 독립적으로 수행

  - 지속성 : 트랜잭션이 커밋되면 계속 보존

    

- 컨테이너
  - **인스턴스의 생명주기 관리, 생성된 인스턴스들에게 추가적 기능 제공**
  - 즉, 당신이 작성한 코드의 처리과정을 위임받은 독립적 존재
  - 스프링 컨테이너는 스프링 프레임워크의 핵심부에 위치, 종속객체 주입 이용하여 애플리케이션 구성하는 컴포넌트 관리
  - 즉, 프로그래머가 작성한 코드는 컨테이너를 통해 컨테이너 영역으로 ~
  - 스프링 컨테이너 또한 객체에 대한 생성 및 생명주기 관리 기능있어서 IOC 컨테이너는 객채 생성, 의존성 관리
  - POJO의 생성 , 소명 권한 있음 - 개발자들이 포조 생성가능하나 컨테이너에게 맡김

